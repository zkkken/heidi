#!/bin/bash
# ============================================
# EMR to Heidi Integration - ä¾¿æ·è¿è¡Œè„šæœ¬
# ============================================

set -e

# è¿›å…¥é¡¹ç›®ç›®å½•
cd "$(dirname "$0")"

# æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒæ˜¯å¦å­˜åœ¨
if [ ! -d "venv" ]; then
    echo "âŒ è™šæ‹Ÿç¯å¢ƒä¸å­˜åœ¨ï¼"
    echo "è¯·å…ˆè¿è¡Œå®‰è£…è„šæœ¬: bash install-venv.sh"
    exit 1
fi

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# æ˜¾ç¤ºç¯å¢ƒä¿¡æ¯
echo "âœ… è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»"
echo "ğŸ“ Python è·¯å¾„: $(which python)"
echo ""

# è¿è¡Œç¨‹åºï¼ˆä¼ é€’æ‰€æœ‰å‚æ•°ï¼‰
python integrations/standalone/main.py "$@"

# æ³¨æ„ï¼šè™šæ‹Ÿç¯å¢ƒä¼šåœ¨è„šæœ¬ç»“æŸåè‡ªåŠ¨é€€å‡º
